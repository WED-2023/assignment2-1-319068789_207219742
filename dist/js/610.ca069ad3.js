(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[610],{8610:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});r(2772),r(1249),r(7327),r(1539),r(9753),r(2222),r(7042);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"search-container"},[t("div",{staticClass:"search-bar"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],attrs:{type:"text",placeholder:"Search for recipes..."},domProps:{value:e.query},on:{focus:function(t){e.showDropdown=!0},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchRecipes.apply(null,arguments)},input:function(t){t.target.composing||(e.query=t.target.value)}}}),t("div",{staticClass:"amount-container"},[t("label",{staticClass:"amount-label",attrs:{for:"amount"}},[e._v("Number of results:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"amount"}],staticClass:"amount-input",attrs:{id:"amount"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.amount=t.target.multiple?r:r[0]}}},[t("option",{attrs:{value:"5"}},[e._v("5")]),t("option",{attrs:{value:"10"}},[e._v("10")]),t("option",{attrs:{value:"15"}},[e._v("15")])])]),t("button",{on:{click:e.searchRecipes}},[e._v("Search")]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showDropdown,expression:"showDropdown"}],staticClass:"dropdown",on:{mouseleave:function(t){e.showDropdown=!1}}},[t("ul",e._l(e.lastSearches,(function(r,s){return t("li",{key:s,on:{click:function(t){return e.selectSearch(r)}}},[e._v(" "+e._s(r)+" ")])})),0)])]),t("div",{staticClass:"main-content"},[t("b-container",{staticClass:"recipes-container"},e._l(e.recipes,(function(e){return t("b-row",{key:e.id},[t("RecipePreview",{staticClass:"recipePreview",attrs:{recipe:e}})],1)})),1),t("div",{staticClass:"filter-toolbar"},[t("h3",{staticClass:"filter-title"},[e._v("Filters")]),t("div",{staticClass:"filter-category"},[t("h4",[e._v("Cuisine")]),e._l(e.cuisines,(function(r,s){return t("div",{key:s,staticClass:"filter-option"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedCuisines,expression:"selectedCuisines"}],attrs:{type:"checkbox",id:"cuisine-"+r},domProps:{value:r,checked:Array.isArray(e.selectedCuisines)?e._i(e.selectedCuisines,r)>-1:e.selectedCuisines},on:{change:function(t){var s=e.selectedCuisines,n=t.target,a=!!n.checked;if(Array.isArray(s)){var i=r,c=e._i(s,i);n.checked?c<0&&(e.selectedCuisines=s.concat([i])):c>-1&&(e.selectedCuisines=s.slice(0,c).concat(s.slice(c+1)))}else e.selectedCuisines=a}}}),t("label",{attrs:{for:"cuisine-"+r}},[e._v(e._s(r))])])}))],2),t("div",{staticClass:"filter-category"},[t("h4",[e._v("Diet")]),e._l(e.diets,(function(r,s){return t("div",{key:s,staticClass:"filter-option"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedDiets,expression:"selectedDiets"}],attrs:{type:"checkbox",id:"diet-"+r},domProps:{value:r,checked:Array.isArray(e.selectedDiets)?e._i(e.selectedDiets,r)>-1:e.selectedDiets},on:{change:function(t){var s=e.selectedDiets,n=t.target,a=!!n.checked;if(Array.isArray(s)){var i=r,c=e._i(s,i);n.checked?c<0&&(e.selectedDiets=s.concat([i])):c>-1&&(e.selectedDiets=s.slice(0,c).concat(s.slice(c+1)))}else e.selectedDiets=a}}}),t("label",{attrs:{for:"diet-"+r}},[e._v(e._s(r))])])}))],2),t("div",{staticClass:"filter-category"},[t("h4",[e._v("Intolerances")]),e._l(e.intolerances,(function(r,s){return t("div",{key:s,staticClass:"filter-option"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedIntolerances,expression:"selectedIntolerances"}],attrs:{type:"checkbox",id:"intolerance-"+r},domProps:{value:r,checked:Array.isArray(e.selectedIntolerances)?e._i(e.selectedIntolerances,r)>-1:e.selectedIntolerances},on:{change:function(t){var s=e.selectedIntolerances,n=t.target,a=!!n.checked;if(Array.isArray(s)){var i=r,c=e._i(s,i);n.checked?c<0&&(e.selectedIntolerances=s.concat([i])):c>-1&&(e.selectedIntolerances=s.slice(0,c).concat(s.slice(c+1)))}else e.selectedIntolerances=a}}}),t("label",{attrs:{for:"intolerance-"+r}},[e._v(e._s(r))])])}))],2)])],1)])},n=[],a=r(6835),i=r(5957),c=r(8534),o=(r(3210),r(7658),r(541),r(8862),r(3462)),l=r(1458);const u={name:"RecipePreviewList",components:{RecipePreview:o.Z},data:function(){return{query:"",recipes:[],lastSearches:[],showDropdown:!1,amount:5,selectedCuisines:[],selectedDiets:[],selectedIntolerances:[],cuisines:["Mexican","Italian","Chinese","Indian","Greek","Latine"],diets:["Ketogenic","Vegetarian","Lacto-Vegetarian","Ovo-Vegetarian","Vegan","Pescetarian","Paleo","Primal","Low FODMAP","Whole30"],intolerances:["Dairy","Egg","Gluten","Grain","Peanut","Seafood","Sesame","Shellfish","Soy","Sulfite","Tree Nut","Wheat"]}},mounted:function(){this.loadLastSearches()},methods:{searchRecipes:function(){var e=this;return(0,c.Z)((0,a.Z)().mark((function t(){var r,s,n;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.query.trim()){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,(0,l.J1)(e.query,e.amount,e.selectedCuisines,e.selectedDiets,e.selectedIntolerances);case 5:s=t.sent,console.log(s),n=s.data.recipes,console.log(n),e.recipes=[],(r=e.recipes).push.apply(r,(0,i.Z)(n)),e.saveSearch(e.query),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](2),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[2,14]])})))()},saveSearch:function(e){var t=JSON.parse(localStorage.getItem("lastSearches"))||[];t=t.filter((function(t){return t!==e})),t.unshift(e),t.length>5&&t.pop(),localStorage.setItem("lastSearches",JSON.stringify(t)),this.loadLastSearches()},loadLastSearches:function(){this.lastSearches=JSON.parse(localStorage.getItem("lastSearches"))||[]},selectSearch:function(e){this.query=e,this.showDropdown=!1,this.searchRecipes()}}},d=u;var v=r(1001),f=(0,v.Z)(d,s,n,!1,null,"526c8376",null);const p=f.exports},5117:(e,t,r)=>{"use strict";var s=r(6330),n=TypeError;e.exports=function(e,t){if(!delete e[t])throw n("Cannot delete property "+s(t)+" of "+s(e))}},6091:(e,t,r)=>{var s=r(6530).PROPER,n=r(7293),a=r(1361),i="​᠎";e.exports=function(e){return n((function(){return!!a[e]()||i[e]()!==i||s&&a[e].name!==e}))}},3111:(e,t,r)=>{var s=r(1702),n=r(4488),a=r(1340),i=r(1361),c=s("".replace),o=RegExp("^["+i+"]+"),l=RegExp("(^|[^"+i+"])["+i+"]+$"),u=function(e){return function(t){var r=a(n(t));return 1&e&&(r=c(r,o,"")),2&e&&(r=c(r,l,"$1")),r}};e.exports={start:u(1),end:u(2),trim:u(3)}},1361:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},2222:(e,t,r)=>{"use strict";var s=r(2109),n=r(7293),a=r(3157),i=r(111),c=r(7908),o=r(6244),l=r(7207),u=r(6135),d=r(5417),v=r(1194),f=r(5112),p=r(7392),h=f("isConcatSpreadable"),m=p>=51||!n((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),y=function(e){if(!i(e))return!1;var t=e[h];return void 0!==t?!!t:a(e)},g=!m||!v("concat");s({target:"Array",proto:!0,arity:1,forced:g},{concat:function(e){var t,r,s,n,a,i=c(this),v=d(i,0),f=0;for(t=-1,s=arguments.length;t<s;t++)if(a=-1===t?i:arguments[t],y(a))for(n=o(a),l(f+n),r=0;r<n;r++,f++)r in a&&u(v,f,a[r]);else l(f+1),u(v,f++,a);return v.length=f,v}})},7327:(e,t,r)=>{"use strict";var s=r(2109),n=r(2092).filter,a=r(1194),i=a("filter");s({target:"Array",proto:!0,forced:!i},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},2772:(e,t,r)=>{"use strict";var s=r(2109),n=r(1470),a=r(1318).indexOf,i=r(9341),c=n([].indexOf),o=!!c&&1/c([1],1,-0)<0,l=o||!i("indexOf");s({target:"Array",proto:!0,forced:l},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return o?c(this,e,t)||0:a(this,e,t)}})},541:(e,t,r)=>{"use strict";var s=r(2109),n=r(7908),a=r(6244),i=r(3658),c=r(5117),o=r(7207),l=1!==[].unshift(0),u=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},d=l||!u();s({target:"Array",proto:!0,arity:1,forced:d},{unshift:function(e){var t=n(this),r=a(t),s=arguments.length;if(s){o(r+s);var l=r;while(l--){var u=l+s;l in t?t[u]=t[l]:c(t,u)}for(var d=0;d<s;d++)t[d]=arguments[d]}return i(t,r+s)}})},3210:(e,t,r)=>{"use strict";var s=r(2109),n=r(3111).trim,a=r(6091);s({target:"String",proto:!0,forced:a("trim")},{trim:function(){return n(this)}})}}]);
//# sourceMappingURL=610.ca069ad3.js.map