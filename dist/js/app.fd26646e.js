(()=>{"use strict";var e={7885:(e,t,n)=>{n.d(t,{Z:()=>d});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"recipe-preview-container"},[t("router-link",{staticClass:"recipe-preview",attrs:{to:{name:"recipe",params:{recipeId:e.recipe.id}}},on:{click:e.onRecipeClick}},[t("div",{staticClass:"recipe-body"},[e.image_load?t("img",{staticClass:"main-recipe-image",attrs:{src:e.recipe.image}}):e._e()]),t("div",{staticClass:"recipe-footer"},[t("div",{staticClass:"recipe-title"},[e._v(" "+e._s(e.recipe.title)+" ")]),t("ul",{staticClass:"recipe-overview"},[t("li",[t("span",[t("i",{staticClass:"fas fa-clock"}),e._v(" "+e._s(e.recipe.readyInMinutes)+" minutes ")])]),t("li",[e._v(" "+e._s(e.recipe.aggregateLikes)+" "),t("i",{staticClass:"fas fa-heart",staticStyle:{color:"red"}})]),t("li",[e.recipe.vegan?t("img",{staticClass:"icon",attrs:{src:e.vegan_img}}):e._e()]),t("li",[e.recipe.vegetarian?t("img",{staticClass:"icon",attrs:{src:e.vegeterian_img}}):e._e()]),t("li",[e.recipe.glutenFree?t("img",{staticClass:"icon",attrs:{src:e.gluten_free_img}}):e._e()])])])]),e.$root.store.username?t("div",[t("button",{staticClass:"favorite-button",class:{favorited:e.isFavorited},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleFavorite.apply(null,arguments)}}},[t("i",{class:[e.isFavorited?"fas fa-star":"far fa-star"]})])]):e._e(),e.isWatched?t("div",{staticClass:"watched-indicator"},[t("i",{staticClass:"fas fa-eye"}),e._v(" Watched ")]):e._e()],1)},a=[],s=n(6835),i=n(8534),o=(n(2222),n(4293));const c={data:function(){return{image_load:!0,vegan_img:"https://github.com/WED-2023/assignment2-1-319068789_207219742/blob/main/src/assets/vegen%20friendly.png?raw=true",gluten_free_img:"https://cdn-icons-png.flaticon.com/256/4876/4876700.png",vegeterian_img:"https://github.com/WED-2023/assignment2-1-319068789_207219742/blob/main/src/assets/vegetarian-icon.png?raw=true",isFavorited:!1,isWatched:!1}},props:{recipe:{type:Object,required:!0}},mounted:function(){var e=this;return(0,i.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.checkIfFavoriteRecipe();case 2:return t.next=4,e.checkIfWatched();case 4:return t.next=6,e.loadImage();case 6:case"end":return t.stop()}}),t)})))()},methods:{onRecipeClick:function(e){var t=this;return(0,i.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.stopPropagation(),n.next=3,t.handleWatched();case 3:case"end":return n.stop()}}),n)})))()},checkIfFavoriteRecipe:function(){var e=this;return(0,i.Z)((0,s.Z)().mark((function t(){var n;return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,o.B0)(localStorage.username,e.recipe.id);case 3:n=t.sent,console.log("Favorite check response:",n.data),e.isFavorited=n.data.isFavorite,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},checkIfWatched:function(){var e=this;return(0,i.Z)((0,s.Z)().mark((function t(){var n;return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,o.mT)(localStorage.username,e.recipe.id);case 3:n=t.sent,console.log("Watched check response:",n.data),e.isWatched=n.data.isWatched,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},loadImage:function(){var e=this;return(0,i.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get(e.recipe.image);case 3:e.image_load=!0,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log("Image load error:",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},toggleFavorite:function(){var e=this;return(0,i.Z)((0,s.Z)().mark((function t(){var n;return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!localStorage.username){t.next=13;break}if(e.isFavorited=!e.isFavorited,n={username:localStorage.username,recipe_id:e.recipe.id},console.log("Toggling favorite status: Username: ".concat(n.username,", Recipe ID: ").concat(n.recipe_id)),!e.isFavorited){t.next=9;break}return t.next=7,(0,o._p)(n);case 7:t.next=11;break;case 9:return t.next=11,(0,o.zm)(n);case 11:t.next=14;break;case 13:console.error("localStorage.username is not defined.");case 14:case"end":return t.stop()}}),t)})))()},handleWatched:function(){var e=this;return(0,i.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.error("handle watch"),!localStorage.username){t.next=5;break}return e.isWatched=!0,t.next=5,(0,o.FF)(localStorage.username,e.recipe.id);case 5:case"end":return t.stop()}}),t)})))()}}},u=c;var l=n(1001),p=(0,l.Z)(u,r,a,!1,null,"f142d528",null);const d=p.exports},2976:(e,t,n)=>{n.d(t,{Z:()=>v});var r=function(){var e=this,t=e._self._c;return t("b-container",[t("h3",{staticClass:"list-title"},[e._v(" "+e._s(e.title)+" "),e._t("default")],2),e.isTwoPerRow?[t("b-row",{staticClass:"custom-row"},e._l(e.recipes,(function(e){return t("b-col",{key:e.id,attrs:{cols:"6"}},[t("RecipePreview",{staticClass:"recipePreview",attrs:{recipe:e}})],1)})),1)]:e._l(e.recipes,(function(e){return t("b-row",{key:e.id,staticClass:"custom-row2"},[t("RecipePreview",{staticClass:"recipePreview",attrs:{recipe:e}})],1)})),"randomRecipes"===e.listType?t("div",{staticClass:"button-container"},[t("button",{on:{click:e.updateRecipes}},[e._v("Show Me Another 3 Random Recipes")])]):e._e()],2)},a=[],s=n(6835),i=n(9584),o=n(8534),c=(n(6699),n(1703),n(6647),n(7658),n(7885)),u=n(4293);const l={name:"RecipePreviewList",components:{RecipePreview:c.Z},props:{title:{type:String,required:!0},listType:{type:String,required:!0,validator:function(e){return["randomRecipes","lastRecipes","myRecipes","familyRecipes","favorites"].includes(e)}}},data:function(){return{recipes:[]}},mounted:function(){this.updateRecipes()},computed:{isTwoPerRow:function(){return["favorites","myRecipes","familyRecipes"].includes(this.listType)}},methods:{updateRecipes:function(){var e=this;return(0,o.Z)((0,s.Z)().mark((function t(){var n,r,a,o,c;return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,r={randomRecipes:function(){return(0,u.qL)()},lastRecipes:function(){return(0,u.Vp)(localStorage.username)},familyRecipes:function(){return(0,u.zV)()},myRecipes:function(){return(0,u._Y)(localStorage.username)},favorites:function(){return(0,u.lZ)(localStorage.username)}},a=r[e.listType],a){t.next=5;break}throw new Error("Invalid list type");case 5:return t.next=7,a();case 7:o=t.sent,console.log(o),c=o.data.recipes,console.log(c),e.recipes=[],(n=e.recipes).push.apply(n,(0,i.Z)(c)),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()}}},p=l;var d=n(1001),m=(0,d.Z)(p,r,a,!1,null,"2c55a4a7",null);const v=m.exports},5446:(e,t,n)=>{n.d(t,{m:()=>ae});n(6992),n(8674),n(9601),n(7727),n(9554),n(1539),n(4747);var r=n(144),a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("div",{attrs:{id:"nav"}},[t("div",{staticClass:"nav-left"},[t("router-link",{staticClass:"brand",attrs:{to:{name:"main"}}},[e._v("Vue Recipes")]),t("router-link",{attrs:{to:{name:"about"}}},[e._v("About")]),t("router-link",{attrs:{to:{name:"search"}}},[e._v("ðŸ” Search Recipe")]),e.$root.store.username?t("span",[t("div",{staticClass:"dropdown"},[t("button",{staticClass:"dropbtn"},[e._v("Personal")]),t("div",{staticClass:"dropdown-content"},[t("router-link",{attrs:{to:{name:"favorites"}}},[e._v("Favorites Recipes")]),t("router-link",{attrs:{to:{name:"myRecipes"}}},[e._v("My Recipes")]),t("router-link",{attrs:{to:{name:"familyRecipes"}}},[e._v("Family Recipes")]),t("button",{on:{click:function(t){e.showModal=!0}}},[e._v("Upload Recipe")])],1)])]):t("span",[e._v(" Hello Guest: "),t("router-link",{attrs:{to:{name:"register"}}},[e._v("Register")]),t("router-link",{attrs:{to:{name:"login"}}},[e._v("Login")])],1)],1),t("div",{staticClass:"nav-right"},[e.$root.store.username?t("div",{staticClass:"dropdown right"},[t("button",{staticClass:"dropbtn"},[e._v("ðŸ‘¤ "+e._s(e.$root.store.username))]),t("div",{staticClass:"dropdown-content"},[t("button",{on:{click:e.Logout}},[e._v("Logout")])])]):e._e()])]),t("main",[t("router-view")],1),t("Modal",{attrs:{show:e.showModal},on:{close:function(t){e.showModal=!1}}},[t("UploadRecipe",{on:{"upload-success":function(t){e.showModal=!1}}})],1)],1)},s=[],i=n(6835),o=n(8534),c=(n(7658),function(){var e=this,t=e._self._c;return e.show?t("div",{staticClass:"modal"},[t("div",{staticClass:"modal-overlay",on:{click:e.close}}),t("div",{staticClass:"modal-content"},[t("button",{staticClass:"close-button",on:{click:e.close}},[e._v("Ã—")]),e._t("default")],2)]):e._e()}),u=[];const l={name:"Modal",props:{show:{type:Boolean,required:!0}},methods:{close:function(){this.$emit("close")}}},p=l;var d=n(1001),m=(0,d.Z)(p,c,u,!1,null,"59ef2c5a",null);const v=m.exports;n(8309),n(9753),n(2222),n(7042);var f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"upload-recipe-container"},[t("h1",{staticClass:"title"},[e._v("Upload Your Recipe")]),t("form",{on:{submit:function(t){return t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[t("div",{staticClass:"form-content"},[t("div",{staticClass:"left-section"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"title"}},[e._v("Recipe Title:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],attrs:{type:"text",id:"title",required:""},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}})]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"image"}},[e._v("Recipe Image:")]),t("input",{ref:"image",attrs:{type:"file",id:"image",required:""},on:{change:e.handleImageUpload}})]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"summary"}},[e._v("Short summary:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.summary,expression:"summary"}],attrs:{type:"text",id:"summary",required:""},domProps:{value:e.summary},on:{input:function(t){t.target.composing||(e.summary=t.target.value)}}})]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"time"}},[e._v("Time to Make (minutes):")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.time,expression:"time",modifiers:{number:!0}}],attrs:{type:"number",id:"time",required:"",min:"1"},domProps:{value:e.time},on:{input:function(t){t.target.composing||(e.time=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"servings"}},[e._v("Number of Servings:")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.servings,expression:"servings",modifiers:{number:!0}}],attrs:{type:"number",id:"servings",required:"",min:"1"},domProps:{value:e.servings},on:{input:function(t){t.target.composing||(e.servings=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),t("div",{staticClass:"mid-section"},[t("div",{staticClass:"form-group"},[t("label",[e._v("Ingredients:")]),e._l(e.ingredients,(function(n,r){return t("div",{key:r,staticClass:"ingredient-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.amount,expression:"ingredient.amount"}],staticClass:"ingredient-field amount",attrs:{type:"text",placeholder:"Amount"},domProps:{value:n.amount},on:{input:function(t){t.target.composing||e.$set(n,"amount",t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:n.unit,expression:"ingredient.unit"}],staticClass:"ingredient-field unit",attrs:{type:"text",placeholder:"Unit"},domProps:{value:n.unit},on:{input:function(t){t.target.composing||e.$set(n,"unit",t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:n.name,expression:"ingredient.name"}],staticClass:"ingredient-field name",attrs:{type:"text",placeholder:"Ingredient Name"},domProps:{value:n.name},on:{input:function(t){t.target.composing||e.$set(n,"name",t.target.value)}}})])})),t("button",{staticClass:"addRemove-button",attrs:{type:"button"},on:{click:function(t){return e.removeIngredient(e.index)}}},[e._v(" - ")]),t("button",{staticClass:"addRemove-button",attrs:{type:"button"},on:{click:e.addIngredient}},[e._v(" + ")])],2),t("div",{staticClass:"form-group"},[t("label",[e._v("Instructions:")]),e._l(e.instructions,(function(n,r){return t("div",{key:r,staticClass:"instruction-item"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:n.text,expression:"instruction.text"}],attrs:{placeholder:"Step "+(r+1)},domProps:{value:n.text},on:{input:function(t){t.target.composing||e.$set(n,"text",t.target.value)}}}),t("button",{staticClass:"addRemove-button",attrs:{type:"button"},on:{click:function(t){return e.removeInstruction(r)}}},[e._v(" - ")])])})),t("button",{staticClass:"addRemove-button",attrs:{type:"button"},on:{click:e.addInstruction}},[e._v(" + ")])],2)]),t("div",{staticClass:"right-section"},[t("div",{staticClass:"filters"},[t("div",{staticClass:"filter-column"},[t("div",{staticClass:"filter-category"},[t("h4",[e._v("Cuisine")]),e._l(e.cuisines,(function(n,r){return t("div",{key:r,staticClass:"filter-option"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedCuisines,expression:"selectedCuisines"}],attrs:{type:"checkbox",id:"cuisine-"+n},domProps:{value:n,checked:Array.isArray(e.selectedCuisines)?e._i(e.selectedCuisines,n)>-1:e.selectedCuisines},on:{change:function(t){var r=e.selectedCuisines,a=t.target,s=!!a.checked;if(Array.isArray(r)){var i=n,o=e._i(r,i);a.checked?o<0&&(e.selectedCuisines=r.concat([i])):o>-1&&(e.selectedCuisines=r.slice(0,o).concat(r.slice(o+1)))}else e.selectedCuisines=s}}}),t("label",{attrs:{for:"cuisine-"+n}},[e._v(e._s(n))])])}))],2)]),t("div",{staticClass:"filter-column"},[t("div",{staticClass:"filter-category"},[t("h4",[e._v("Diet")]),e._l(e.diets,(function(n,r){return t("div",{key:r,staticClass:"filter-option"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedDiets,expression:"selectedDiets"}],attrs:{type:"checkbox",id:"diet-"+n},domProps:{value:n,checked:Array.isArray(e.selectedDiets)?e._i(e.selectedDiets,n)>-1:e.selectedDiets},on:{change:function(t){var r=e.selectedDiets,a=t.target,s=!!a.checked;if(Array.isArray(r)){var i=n,o=e._i(r,i);a.checked?o<0&&(e.selectedDiets=r.concat([i])):o>-1&&(e.selectedDiets=r.slice(0,o).concat(r.slice(o+1)))}else e.selectedDiets=s}}}),t("label",{attrs:{for:"diet-"+n}},[e._v(e._s(n))])])}))],2)]),t("div",{staticClass:"filter-column"},[t("div",{staticClass:"filter-category"},[t("h4",[e._v("Intolerances")]),e._l(e.intolerances,(function(n,r){return t("div",{key:r,staticClass:"filter-option"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedIntolerances,expression:"selectedIntolerances"}],attrs:{type:"checkbox",id:"intolerance-"+n},domProps:{value:n,checked:Array.isArray(e.selectedIntolerances)?e._i(e.selectedIntolerances,n)>-1:e.selectedIntolerances},on:{change:function(t){var r=e.selectedIntolerances,a=t.target,s=!!a.checked;if(Array.isArray(r)){var i=n,o=e._i(r,i);a.checked?o<0&&(e.selectedIntolerances=r.concat([i])):o>-1&&(e.selectedIntolerances=r.slice(0,o).concat(r.slice(o+1)))}else e.selectedIntolerances=s}}}),t("label",{attrs:{for:"intolerance-"+n}},[e._v(e._s(n))])])}))],2)])])])]),t("button",{attrs:{type:"submit"}},[e._v("Upload Recipe")])])])},h=[],g=(n(1703),n(6647),n(561),n(1249),n(3161),n(9653),n(4293));const w={name:"UploadRecipe",data:function(){return{title:"",image:null,summary:"",time:"",servings:"",ingredients:[{text:""}],instructions:[{text:""}],selectedCuisines:[],selectedDiets:[],selectedIntolerances:[],cuisines:["Mexican","Italian","Chinese","Indian","Greek","Latine"],diets:["Ketogenic","Vegetarian","Lacto-Vegetarian","Ovo-Vegetarian","Vegan","Pescetarian","Paleo","Primal","Low FODMAP","Whole30"],intolerances:["Dairy","Egg","Gluten","Grain","Peanut","Seafood","Sesame","Shellfish","Soy","Sulfite","Tree Nut","Wheat"]}},methods:{handleImageUpload:function(e){var t=this;return(0,o.Z)((0,i.Z)().mark((function n(){var r,a,s;return(0,i.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.target.files[0],r){n.next=3;break}return n.abrupt("return");case 3:return n.prev=3,a=new FormData,a.append("image",r),n.next=8,(0,g.Ix)(a);case 8:if(s=n.sent,200!==s.status){n.next=13;break}t.image=s.data.imagePath,n.next=14;break;case 13:throw new Error("Failed to upload image");case 14:n.next=20;break;case 16:n.prev=16,n.t0=n["catch"](3),console.error("Error uploading image:",n.t0),alert("There was an error uploading your image. Please try again.");case 20:case"end":return n.stop()}}),n,null,[[3,16]])})))()},addInstruction:function(){this.instructions.push({text:""})},removeInstruction:function(e){this.instructions.splice(e,1)},addIngredient:function(){this.ingredients.push({amount:"",unit:"",name:""})},removeIngredient:function(e){this.ingredients.splice(e,1)},handleSubmit:function(){var e=this;return(0,o.Z)((0,i.Z)().mark((function t(){var n,r;return(0,i.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.validateInputs()){t.next=3;break}return alert("Time to make and Number of Servings must be greater than 1."),t.abrupt("return");case 3:return t.prev=3,n={title:e.title,image:e.image,summary:e.summary,readyInMinutes:e.time,servings:e.servings,cuisines:e.selectedCuisines,diets:e.selectedDiets,intolerances:e.selectedIntolerances,username:localStorage.username,ingredients:e.ingredients.map((function(e){return{amount:e.amount,unit:e.unit,name:e.name}})),instructions:e.instructions.map((function(e,t){return{stepNumber:t+1,description:e.text}}))},t.next=7,(0,g.nm)(n);case 7:if(r=t.sent,201==r.status){t.next=10;break}throw new Error("Failed to upload recipe");case 10:alert("Recipe uploaded successfully!"),e.resetForm(),e.$emit("upload-success"),t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](3),console.error("Error uploading recipe:",t.t0),alert("There was an error uploading your recipe. Please try again.");case 19:case"end":return t.stop()}}),t,null,[[3,15]])})))()},validateInputs:function(){return Number.isInteger(this.time)&&this.time>1&&Number.isInteger(this.servings)&&this.servings>1},resetForm:function(){this.title="",this.image=null,this.summary="",this.time="",this.servings="",this.ingredients=[{text:""}],this.instructions=[{text:""}];var e=this.$refs.image;e&&(e.value=null)}}},y=w;var b=(0,d.Z)(y,f,h,!1,null,"f5a773b6",null);const x=b.exports;var _=n(9239);const k={name:"App",components:{Modal:v,UploadRecipe:x},data:function(){return{showModal:!1}},methods:{Logout:function(){var e=this;return(0,o.Z)((0,i.Z)().mark((function t(){var n;return(0,i.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,_.kS)();case 3:t.sent,e.$root.store.logout(),e.$root.toast("Logout","User logged out successfully","success"),e.$router.push("/")["catch"]((function(){e.$forceUpdate()})),t.next=14;break;case 9:t.prev=9,t.t0=t["catch"](0),n="An error occurred. Please try again.",t.t0.response&&t.t0.response.data&&t.t0.response.data.message?n=t.t0.response.data.message:t.t0.message&&(n=t.t0.message),alert(n);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}},Z=k;var C=(0,d.Z)(Z,a,s,!1,null,"68ed2432",null);const R=C.exports;var I=n(1939),P=n.n(I),S=n(9669),F=n.n(S),T=(n(8783),n(3948),function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("h1",{staticClass:"title"},[e._v("Main Page")]),t("div",{staticClass:"main-content"},[t("div",{staticClass:"section left-section"},[t("RecipePreviewList",{staticClass:"center",attrs:{title:"Explore this recipes",listType:"randomRecipes"}})],1),t("div",{staticClass:"section right-section"},[e.$root.store.username?e._e():t("router-link",{attrs:{to:"/login",tag:"button"}},[e._v(" You need to Login to view this ")]),t("RecipePreviewList",{class:{blur:!e.$root.store.username,center:!0},attrs:{title:"Last Viewed Recipes",listType:"lastRecipes"}})],1)])])}),A=[],E=n(2976);const D={components:{RecipePreviewList:E.Z}},N=D;var L=(0,d.Z)(N,T,A,!1,null,"95de29e6",null);const $=L.exports;var M=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("h1",[e._v("Four Oh Four you didn't")]),t("router-link",{attrs:{to:"/",exact:""}},[e._v("ET Go Home")])],1)},O=[],U={},j=(0,d.Z)(U,M,O,!1,null,null,null);const W=j.exports;var q=[{path:"/",name:"main",component:$},{path:"/register",name:"register",component:function(){return n.e(456).then(n.bind(n,6456))}},{path:"/login",name:"login",component:function(){return n.e(962).then(n.bind(n,9962))}},{path:"/search",name:"search",component:function(){return n.e(231).then(n.bind(n,9231))}},{path:"   ",name:"recipe",component:function(){return n.e(175).then(n.bind(n,5175))}},{path:"*",name:"notFound",component:W},{path:"/favorites",name:"favorites",component:function(){return n.e(886).then(n.bind(n,4886))}},{path:"/myRecipes",name:"myRecipes",component:function(){return n.e(229).then(n.bind(n,1229))}},{path:"/familyRecipes",name:"familyRecipes",component:function(){return n.e(86).then(n.bind(n,5086))}},{path:"/About",name:"about",component:function(){return n.e(737).then(n.bind(n,7737))}}];const V=q;var B=n(8345),Y=n(8620),z=(n(7024),n(9301)),G=n(7563),H=n(5053),J=n(1869),K=n(8672),Q=n(4500),X=n(8348),ee=n(4063),te=n(4167),ne=n(8824);r["default"].use(B.ZP);var re=new B.ZP({routes:V});[z.E,G.w6,H.g,J.SY,K.xL,Q.u3,X.v5,ee.F,te.m$,ne.A6].forEach((function(e){return r["default"].use(e)})),r["default"].use(Y.ZP),F().interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),F().interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),r["default"].use(P(),F()),r["default"].config.productionTip=!1;var ae={server_domain:"https://AlonAndYoni.cs.bgu.ac.il",username:localStorage.username,login:function(e){localStorage.setItem("username",e),this.username=e,console.log("login",this.username)},logout:function(){console.log("logout"),localStorage.removeItem("username"),this.username=void 0,localStorage.removeItem("lastSearchQuery")}};console.log(ae),new r["default"]({router:re,data:function(){return{store:ae}},methods:{toast:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.$bvToast.toast("".concat(t),{title:"".concat(e),toaster:"b-toaster-top-center",variant:n,solid:!0,appendToast:r,autoHideDelay:3e3})}},render:function(e){return e(R)}}).$mount("#app")},9239:(e,t,n)=>{n.d(t,{kS:()=>d,x4:()=>l,z2:()=>c});var r=n(6835),a=n(8534),s=n(9669),i=n.n(s),o="https://alonandyoni.cs.bgu.ac.il";function c(e){return u.apply(this,arguments)}function u(){return u=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i().post("".concat(o,"/auth/Register"),t);case 2:return n=e.sent,console.log("Response:",n.data),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return p=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i().post("".concat(o,"/auth/Login"),t);case 2:return n=e.sent,console.log("Response:",n.data),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function d(){return m.apply(this,arguments)}function m(){return m=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i().post("".concat(o,"/auth/Logout"));case 2:return t=e.sent,console.log("Response:",t.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}},4293:(e,t,n)=>{n.d(t,{_p:()=>d,$m:()=>w,FF:()=>U,B0:()=>_,M1:()=>h,mT:()=>M,zV:()=>l,lZ:()=>D,JX:()=>F,Vp:()=>L,_Y:()=>A,qL:()=>c,zm:()=>v,Qw:()=>b,s8:()=>P,Ix:()=>Z,nm:()=>R});var r=n(6835),a=(n(6347),n(9584),n(8534)),s=(n(1539),n(189),n(8783),n(3948),n(7658),n(7941),n(1249),n(7042),n(2222),n(8862),n(9669)),i=n.n(s);var o="https://alonandyoni.cs.bgu.ac.il";function c(){return u.apply(this,arguments)}function u(){return u=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i().get("".concat(o,"/randomRecipes"));case 2:return t=e.sent,console.log("Response:",t.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function l(){return p.apply(this,arguments)}function p(){return p=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i().get("".concat(o,"/familyRecipes"));case 2:return t=e.sent,console.log("Response:",t.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return m=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i().post("".concat(o,"/favorites"),t);case 2:return n=e.sent,console.log("Response:",n.data),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function v(e){return f.apply(this,arguments)}function f(){return f=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Removing from favorites: Username: ".concat(t.username,", Recipe ID: ").concat(t.recipe_id)),e.prev=1,e.next=4,i()["delete"]("".concat(o,"/favorites"),{data:t});case 4:return n=e.sent,console.log("Response:",n.data),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e["catch"](1),console.error("Error removing from favorites:",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])}))),f.apply(this,arguments)}function h(e,t){return g.apply(this,arguments)}function g(){return g=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i().get("".concat(o,"/isLiked"),{params:{username:t,recipe_id:n}});case 3:return a=e.sent,console.log("Response:",a.data),e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e["catch"](0),console.error("Error checking if favorite:",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),g.apply(this,arguments)}function w(e){return y.apply(this,arguments)}function y(){return y=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("add to liked: Username: ".concat(t.username,", Recipe ID: ").concat(t.recipe_id)),e.next=3,i().post("".concat(o,"/likeRecipe"),t);case 3:return n=e.sent,console.log("Response:",n.data),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function b(e){return x.apply(this,arguments)}function x(){return x=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Removing from liked: Username: ".concat(t.username,", Recipe ID: ").concat(t.recipe_id)),e.prev=1,e.next=4,i()["delete"]("".concat(o,"/likeRecipe"),{data:t});case 4:return n=e.sent,console.log("Response:",n.data),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e["catch"](1),console.error("Error removing from liked:",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])}))),x.apply(this,arguments)}function _(e,t){return k.apply(this,arguments)}function k(){return k=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i().get("".concat(o,"/isFavorite"),{params:{username:t,recipe_id:n}});case 3:return a=e.sent,console.log("Response:",a.data),e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e["catch"](0),console.error("Error checking if favorite:",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),k.apply(this,arguments)}function Z(e){return C.apply(this,arguments)}function C(){return C=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i().post("".concat(o,"/uploadImage"),t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}function R(e){return I.apply(this,arguments)}function I(){return I=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i().post("".concat(o,"/uploadRecipe"),t,{headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,console.log("Recipe uploaded successfully:",n.data),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}function P(e){return S.apply(this,arguments)}function S(){return S=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("recipeDetails: ".concat(JSON.stringify(t))),e.next=3,i().get("".concat(o,"/searchRecipe"),{params:t,headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,console.log("Recipe searched successfully:",n.data),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}function F(e){return T.apply(this,arguments)}function T(){return T=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i().get("".concat(o,"/getFullRecipe"),{params:{recipe_id:t}});case 2:return n=e.sent,console.log("Recipe details:",n.data),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),T.apply(this,arguments)}function A(e){return E.apply(this,arguments)}function E(){return E=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i().get("".concat(o,"/myRecipes"),{params:{username:t}});case 3:return n=e.sent,console.log("Response:",n.data),e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e["catch"](0),console.error("Error fetching my recipes:",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),E.apply(this,arguments)}function D(e){return N.apply(this,arguments)}function N(){return N=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i().get("".concat(o,"/favorites"),{params:{username:t}});case 3:return n=e.sent,console.log("Response:",n.data),e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e["catch"](0),console.error("Error fetching favorite recipes:",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),N.apply(this,arguments)}function L(e){return $.apply(this,arguments)}function $(){return $=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i().get("".concat(o,"/watched"),{params:{username:t}});case 3:return n=e.sent,console.log("Response:",n.data),e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e["catch"](0),console.error("Error fetching watched recipes:",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),$.apply(this,arguments)}function M(e,t){return O.apply(this,arguments)}function O(){return O=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i().get("".concat(o,"/isWatched"),{params:{username:t,recipe_id:n}});case 3:return a=e.sent,console.log("Response:",a.data),e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e["catch"](0),console.error("Error checking if watched:",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),O.apply(this,arguments)}function U(e){return j.apply(this,arguments)}function j(){return j=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("add to watched: Username: ".concat(t.username,", Recipe ID: ").concat(t.recipe_id)),e.next=3,i().post("".concat(o,"/watched"),t);case 3:return n=e.sent,console.log("Response:",n.data),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}new Set}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,(()=>{var e=[];n.O=(t,r,a,s)=>{if(!r){var i=1/0;for(l=0;l<e.length;l++){for(var[r,a,s]=e[l],o=!0,c=0;c<r.length;c++)(!1&s||i>=s)&&Object.keys(n.O).every((e=>n.O[e](r[c])))?r.splice(c--,1):(o=!1,s<i&&(i=s));if(o){e.splice(l--,1);var u=a();void 0!==u&&(t=u)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[r,a,s]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),(()=>{n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[]))})(),(()=>{n.u=e=>"js/"+e+"."+{86:"a5302a17",175:"9cbc4e58",229:"5b10246b",231:"4b0fa4ca",456:"bb655a86",737:"82cee413",886:"c9ed09a9",962:"b2137dba"}[e]+".js"})(),(()=>{n.miniCssF=e=>"css/"+e+"."+{86:"fbce7e1a",175:"602a0b78",229:"cdf9f94e",231:"ffa636dd",456:"90bbec2b",737:"7490049b",886:"cdf9f94e",962:"6e3000f7"}[e]+".css"})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="assignment-2-1:";n.l=(r,a,s,i)=>{if(e[r])e[r].push(a);else{var o,c;if(void 0!==s)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var p=u[l];if(p.getAttribute("src")==r||p.getAttribute("data-webpack")==t+s){o=p;break}}o||(c=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[a];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(m);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((e=>e(n))),t)return t(n)},m=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),c&&document.head.appendChild(o)}}})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.p="/"})(),(()=>{if("undefined"!==typeof document){var e=(e,t,n,r,a)=>{var s=document.createElement("link");s.rel="stylesheet",s.type="text/css";var i=n=>{if(s.onerror=s.onload=null,"load"===n.type)r();else{var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=i,c.request=o,s.parentNode&&s.parentNode.removeChild(s),a(c)}};return s.onerror=s.onload=i,s.href=t,n?n.parentNode.insertBefore(s,n.nextSibling):document.head.appendChild(s),s},t=(e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var a=n[r],s=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(s===e||s===t))return a}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){a=i[r],s=a.getAttribute("data-href");if(s===e||s===t)return a}},r=r=>new Promise(((a,s)=>{var i=n.miniCssF(r),o=n.p+i;if(t(i,o))return a();e(r,o,null,a,s)})),a={143:0};n.f.miniCss=(e,t)=>{var n={86:1,175:1,229:1,231:1,456:1,737:1,886:1,962:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=r(e).then((()=>{a[e]=0}),(t=>{throw delete a[e],t})))}}})(),(()=>{var e={143:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var s=new Promise(((n,r)=>a=e[t]=[n,r]));r.push(a[2]=s);var i=n.p+n.u(t),o=new Error,c=r=>{if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var s=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,a[1](o)}};n.l(i,c,"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,r)=>{var a,s,[i,o,c]=r,u=0;if(i.some((t=>0!==e[t]))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(c)var l=c(n)}for(t&&t(r);u<i.length;u++)s=i[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(l)},r=self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[998],(()=>n(5446)));r=n.O(r)})();
//# sourceMappingURL=app.fd26646e.js.map