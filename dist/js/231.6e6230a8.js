(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[231],{9231:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});r(2772),r(1249),r(7327),r(1539),r(9753),r(2222),r(7042);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"search-container"},[t("div",{staticClass:"search-bar"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],attrs:{type:"text",placeholder:"Search for recipes..."},domProps:{value:e.query},on:{focus:function(t){e.showDropdown=!0},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchRecipes.apply(null,arguments)},input:function(t){t.target.composing||(e.query=t.target.value)}}}),t("div",{staticClass:"amount-container"},[t("label",{staticClass:"amount-label",attrs:{for:"amount"}},[e._v("Number of results:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"amount"}],staticClass:"amount-input",attrs:{id:"amount"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.amount=t.target.multiple?r:r[0]}}},[t("option",{attrs:{value:"5"}},[e._v("5")]),t("option",{attrs:{value:"10"}},[e._v("10")]),t("option",{attrs:{value:"15"}},[e._v("15")])])]),t("button",{on:{click:e.searchRecipes}},[e._v("Search")]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showDropdown,expression:"showDropdown"}],staticClass:"dropdown",on:{mouseleave:function(t){e.showDropdown=!1}}},[t("ul",e._l(e.lastSearches,(function(r,s){return t("li",{key:s,on:{click:function(t){return e.selectSearch(r)}}},[e._v(" "+e._s(r)+" ")])})),0)])]),t("div",{staticClass:"sort-container"},[t("label",{staticClass:"sort-label",attrs:{for:"sort"}},[e._v("Sort by:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.sortCriteria,expression:"sortCriteria"}],staticClass:"sort-input",attrs:{id:"sort"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.sortCriteria=t.target.multiple?r:r[0]}}},[t("option",{attrs:{value:"readyInMinutes"}},[e._v("Ready in Minutes")]),t("option",{attrs:{value:"aggregateLikes"}},[e._v("Likes")]),t("option",{attrs:{value:"relevance"}},[e._v("Relevance")])])]),t("div",{staticClass:"main-content"},[t("b-container",{staticClass:"recipes-container"},e._l(e.recipes,(function(e){return t("b-row",{key:e.id},[t("RecipePreview",{staticClass:"recipePreview",attrs:{recipe:e}})],1)})),1),t("div",{staticClass:"filter-toolbar"},[t("h3",{staticClass:"filter-title"},[e._v("Filters")]),t("div",{staticClass:"filter-category"},[t("h4",[e._v("Cuisine")]),e._l(e.cuisines,(function(r,s){return t("div",{key:s,staticClass:"filter-option"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedCuisines,expression:"selectedCuisines"}],attrs:{type:"checkbox",id:"cuisine-"+r},domProps:{value:r,checked:Array.isArray(e.selectedCuisines)?e._i(e.selectedCuisines,r)>-1:e.selectedCuisines},on:{change:function(t){var s=e.selectedCuisines,i=t.target,a=!!i.checked;if(Array.isArray(s)){var n=r,c=e._i(s,n);i.checked?c<0&&(e.selectedCuisines=s.concat([n])):c>-1&&(e.selectedCuisines=s.slice(0,c).concat(s.slice(c+1)))}else e.selectedCuisines=a}}}),t("label",{attrs:{for:"cuisine-"+r}},[e._v(e._s(r))])])}))],2),t("div",{staticClass:"filter-category"},[t("h4",[e._v("Diet")]),e._l(e.diets,(function(r,s){return t("div",{key:s,staticClass:"filter-option"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedDiets,expression:"selectedDiets"}],attrs:{type:"checkbox",id:"diet-"+r},domProps:{value:r,checked:Array.isArray(e.selectedDiets)?e._i(e.selectedDiets,r)>-1:e.selectedDiets},on:{change:function(t){var s=e.selectedDiets,i=t.target,a=!!i.checked;if(Array.isArray(s)){var n=r,c=e._i(s,n);i.checked?c<0&&(e.selectedDiets=s.concat([n])):c>-1&&(e.selectedDiets=s.slice(0,c).concat(s.slice(c+1)))}else e.selectedDiets=a}}}),t("label",{attrs:{for:"diet-"+r}},[e._v(e._s(r))])])}))],2),t("div",{staticClass:"filter-category"},[t("h4",[e._v("Intolerances")]),e._l(e.intolerances,(function(r,s){return t("div",{key:s,staticClass:"filter-option"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedIntolerances,expression:"selectedIntolerances"}],attrs:{type:"checkbox",id:"intolerance-"+r},domProps:{value:r,checked:Array.isArray(e.selectedIntolerances)?e._i(e.selectedIntolerances,r)>-1:e.selectedIntolerances},on:{change:function(t){var s=e.selectedIntolerances,i=t.target,a=!!i.checked;if(Array.isArray(s)){var n=r,c=e._i(s,n);i.checked?c<0&&(e.selectedIntolerances=s.concat([n])):c>-1&&(e.selectedIntolerances=s.slice(0,c).concat(s.slice(c+1)))}else e.selectedIntolerances=a}}}),t("label",{attrs:{for:"intolerance-"+r}},[e._v(e._s(r))])])}))],2)])],1)])},i=[],a=r(6835),n=r(8534),c=(r(3210),r(2707),r(676)),o=r(4293),l=r(5446);const u={name:"RecipePreviewList",components:{RecipePreview:c.Z},data:function(){return{query:"",recipes:[],lastSearches:[],showDropdown:!1,amount:5,sortCriteria:"relevance",selectedCuisines:[],selectedDiets:[],selectedIntolerances:[],cuisines:["Mexican","Italian","Chinese","Indian","Greek","Latine"],diets:["Ketogenic","Vegetarian","Lacto-Vegetarian","Ovo-Vegetarian","Vegan","Pescetarian","Paleo","Primal","Low FODMAP","Whole30"],intolerances:["Dairy","Egg","Gluten","Grain","Peanut","Seafood","Sesame","Shellfish","Soy","Sulfite","Tree Nut","Wheat"]}},mounted:function(){this.loadLastSearches()},methods:{searchRecipes:function(){var e=this;return(0,n.Z)((0,a.Z)().mark((function t(){var r,s,i;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.query.trim()){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,r={query:e.query,number:e.amount,cuisine:e.selectedCuisines,diet:e.selectedDiets,intolerances:e.selectedIntolerances},t.next=6,(0,o.s8)(r);case 6:s=t.sent,i=s.data,0===i.length&&alert("No matching result"),i=e.sortRecipes(i,e.sortCriteria),e.recipes=i,e.saveSearch(e.query),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](2),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[2,14]])})))()},sortRecipes:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return"relevance"===t?e:e.sort((function(e,s){return r?e[t]-s[t]:s[t]-e[t]}))},saveSearch:function(e){l.m.username&&localStorage.setItem("lastSearchQuery",e)},loadLastSearches:function(){l.m.username&&(this.query=localStorage.getItem("lastSearchQuery")||"")},selectSearch:function(e){this.query=e,this.showDropdown=!1,this.searchRecipes()}},watch:{sortCriteria:function(e){var t=!0;"aggregateLikes"===e&&(t=!1),"relevance"===e?this.searchRecipes():this.recipes=this.sortRecipes(this.recipes,e,t)}}},d=u;var v=r(1001),h=(0,v.Z)(d,s,i,!1,null,"7bb84f51",null);const f=h.exports},4362:(e,t,r)=>{var s=r(1589),i=Math.floor,a=function(e,t){var r=e.length,o=i(r/2);return r<8?n(e,t):c(e,a(s(e,0,o),t),a(s(e,o),t),t)},n=function(e,t){var r,s,i=e.length,a=1;while(a<i){s=a,r=e[a];while(s&&t(e[s-1],r)>0)e[s]=e[--s];s!==a++&&(e[s]=r)}return e},c=function(e,t,r,s){var i=t.length,a=r.length,n=0,c=0;while(n<i||c<a)e[n+c]=n<i&&c<a?s(t[n],r[c])<=0?t[n++]:r[c++]:n<i?t[n++]:r[c++];return e};e.exports=a},8886:(e,t,r)=>{var s=r(8113),i=s.match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},256:(e,t,r)=>{var s=r(8113);e.exports=/MSIE|Trident/.test(s)},8008:(e,t,r)=>{var s=r(8113),i=s.match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},6091:(e,t,r)=>{var s=r(6530).PROPER,i=r(7293),a=r(1361),n="​᠎";e.exports=function(e){return i((function(){return!!a[e]()||n[e]()!==n||s&&a[e].name!==e}))}},7327:(e,t,r)=>{"use strict";var s=r(2109),i=r(2092).filter,a=r(1194),n=a("filter");s({target:"Array",proto:!0,forced:!n},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},2772:(e,t,r)=>{"use strict";var s=r(2109),i=r(1470),a=r(1318).indexOf,n=r(9341),c=i([].indexOf),o=!!c&&1/c([1],1,-0)<0,l=o||!n("indexOf");s({target:"Array",proto:!0,forced:l},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return o?c(this,e,t)||0:a(this,e,t)}})},2707:(e,t,r)=>{"use strict";var s=r(2109),i=r(1702),a=r(9662),n=r(7908),c=r(6244),o=r(5117),l=r(1340),u=r(7293),d=r(4362),v=r(9341),h=r(8886),f=r(256),p=r(7392),m=r(8008),y=[],g=i(y.sort),C=i(y.push),_=u((function(){y.sort(void 0)})),w=u((function(){y.sort(null)})),k=v("sort"),b=!u((function(){if(p)return p<70;if(!(h&&h>3)){if(f)return!0;if(m)return m<603;var e,t,r,s,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(s=0;s<47;s++)y.push({k:t+s,v:r})}for(y.sort((function(e,t){return t.v-e.v})),s=0;s<y.length;s++)t=y[s].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}})),x=_||!w||!k||!b,S=function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:l(t)>l(r)?1:-1}};s({target:"Array",proto:!0,forced:x},{sort:function(e){void 0!==e&&a(e);var t=n(this);if(b)return void 0===e?g(t):g(t,e);var r,s,i=[],l=c(t);for(s=0;s<l;s++)s in t&&C(i,t[s]);d(i,S(e)),r=c(i),s=0;while(s<r)t[s]=i[s++];while(s<l)o(t,s++);return t}})},3210:(e,t,r)=>{"use strict";var s=r(2109),i=r(3111).trim,a=r(6091);s({target:"String",proto:!0,forced:a("trim")},{trim:function(){return i(this)}})}}]);
//# sourceMappingURL=231.6e6230a8.js.map