(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[65],{6065:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});r(8309);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[e.recipe?t("div",[t("div",{staticClass:"recipe-header"},[t("h1",[e._v(e._s(e.recipe.title))]),e.$root.store.username?t("div",{staticClass:"button-group"},[t("button",{staticClass:"like-button",class:{liked:e.isLiked},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleLike.apply(null,arguments)}}},[t("i",{class:[e.isLiked?"fas fa-heart":"far fa-heart"]})]),t("button",{staticClass:"favorite-button",class:{favorited:e.isFavorited},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleFavorite.apply(null,arguments)}}},[t("i",{class:[e.isFavorited?"fas fa-star":"far fa-star"]})])]):e._e(),t("img",{staticClass:"center",attrs:{src:e.recipe.image}}),t("ul",{staticClass:"recipe-overview"},[t("li",[t("span",[t("i",{staticClass:"fas fa-clock"}),e._v(" "+e._s(e.recipe.readyInMinutes)+" minutes ")])]),t("li",[t("span",[t("i",{staticClass:"fas fa-user"}),e._v(" "+e._s(e.recipe.servings)+" servings ")])]),t("li",[e._v(" "+e._s(e.recipe.aggregateLikes)+" "),t("i",{staticClass:"fas fa-heart",staticStyle:{color:"red"}})]),t("li",[e.recipe.vegan?t("img",{staticClass:"icon",attrs:{src:e.vegan_img}}):e._e()]),t("li",[e.recipe.vegetarian?t("img",{staticClass:"icon",attrs:{src:e.vegetarian_img}}):e._e()]),t("li",[e.recipe.glutenFree?t("img",{staticClass:"icon",attrs:{src:e.gluten_free_img}}):e._e()])])]),t("div",{staticClass:"recipe-body"},[t("div",{staticClass:"wrapper"},[t("div",{staticClass:"wrapped"},[t("h4",[e._v("Summary:")]),t("p",[e._v(e._s(e.recipe.summary))]),t("h4",[e._v("Ingredients:")]),t("ul",e._l(e.recipe.extendedIngredients,(function(r,n){return t("li",{key:n+"_"+r.id},[e._v(" "+e._s(r.amount)+" "+e._s(r.unit)+" "+e._s(r.name)+" ")])})),0),t("h4",[e._v("Instructions:")]),t("ol",e._l(e.recipe.instructions,(function(r){return t("li",{key:r},[e._v(" "+e._s(r)+" ")])})),0)]),t("div",{staticClass:"wrapped"})])])]):e._e()])},a=[],i=r(9584),s=r(6835),c=r(8534),o=(r(4916),r(5306),r(7658),r(2222),r(4293));const u={data:function(){return{instructions:[],recipe:null,vegan_img:"https://github.com/WED-2023/assignment2-1-319068789_207219742/blob/main/src/assets/vegen%20friendly.png?raw=true",gluten_free_img:"https://cdn-icons-png.flaticon.com/256/4876/4876700.png",vegetarian_img:"https://github.com/WED-2023/assignment2-1-319068789_207219742/blob/main/src/assets/vegetarian-icon.png?raw=true",isFavorited:!1,isLiked:!1}},mounted:function(){this.created(),this.updateRecipes(),this.checkIfFavoriteRecipe(),this.checkIfLiked()},methods:{created:function(){var e=this;return(0,c.Z)((0,s.Z)().mark((function t(){var r,n,a,i,c,u,l,p,v,d,g,f,h,m,k;return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{r=(0,o.JX)(e.$route.params.recipeId),null===r&&e.$router.replace("/NotFound"),n=r.data.recipe,a=n.analyzedInstructions,i=n.instructions,c=n.extendedIngredients,u=n.aggregateLikes,l=n.readyInMinutes,p=n.image,v=n.title,d=n.vegetarian,g=n.vegan,f=n.glutenFree,h=n.servings,m=n.summary,k={instructions:i,analyzedInstructions:a,extendedIngredients:c,aggregateLikes:u,readyInMinutes:l,image:p,title:v,vegetarian:d,vegan:g,glutenFree:f,servings:h,summary:m},e.recipe=k}catch(s){console.log(s)}case 1:case"end":return t.stop()}}),t)})))()},updateRecipes:function(){var e=this;return(0,c.Z)((0,s.Z)().mark((function t(){var r,n,a;return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{n=(0,o.S$)(e.$route.params.recipeId),console.log(n),a=n.data.instructions,console.log(a),e.instructions=[],(r=e.instructions).push.apply(r,(0,i.Z)(a))}catch(s){console.log(s)}case 1:case"end":return t.stop()}}),t)})))()},checkIfFavoriteRecipe:function(){var e=this;return(0,c.Z)((0,s.Z)().mark((function t(){var r;return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,o.B0)(localStorage.username,e.$route.params.recipeId);case 3:r=t.sent,console.log("Favorite check response:",r.data),e.isFavorited=r.data.isFavorite,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},checkIfLiked:function(){var e=this;return(0,c.Z)((0,s.Z)().mark((function t(){var r;return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,o.DS)(e.$route.params.recipeId);case 3:r=t.sent,console.log("Like check response:",r.data),e.isLiked=r.data.isLiked,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},toggleFavorite:function(){var e=this;return(0,c.Z)((0,s.Z)().mark((function t(){var r;return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!localStorage.username){t.next=13;break}if(e.isFavorited=!e.isFavorited,r={username:localStorage.username,recipe_id:e.$route.params.recipeId},console.log("Toggling favorite status: Username: ".concat(r.username,", Recipe ID: ").concat(r.recipe_id)),!e.isFavorited){t.next=9;break}return t.next=7,(0,o._p)(r);case 7:t.next=11;break;case 9:return t.next=11,(0,o.zm)(r);case 11:t.next=14;break;case 13:console.error("localStorage.username is not defined.");case 14:case"end":return t.stop()}}),t)})))()},toggleLike:function(){this.isLiked=!this.isLiked,this.isLiked?(0,o.rn)(this.$route.params.recipeId):mockRemoveFromFavorites(this.$route.params.recipeId)}}},l=u;var p=r(1001),v=(0,p.Z)(l,n,a,!1,null,"4a3b004e",null);const d=v.exports},1530:(e,t,r)=>{"use strict";var n=r(8710).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},7007:(e,t,r)=>{"use strict";r(4916);var n=r(1470),a=r(8052),i=r(2261),s=r(7293),c=r(5112),o=r(8880),u=c("species"),l=RegExp.prototype;e.exports=function(e,t,r,p){var v=c(e),d=!s((function(){var t={};return t[v]=function(){return 7},7!=""[e](t)})),g=d&&!s((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[u]=function(){return r},r.flags="",r[v]=/./[v]),r.exec=function(){return t=!0,null},r[v](""),!t}));if(!d||!g||r){var f=n(/./[v]),h=t(v,""[e],(function(e,t,r,a,s){var c=n(e),o=t.exec;return o===i||o===l.exec?d&&!s?{done:!0,value:f(t,r,a)}:{done:!0,value:c(r,t,a)}:{done:!1}}));a(String.prototype,e,h[0]),a(l,v,h[1])}p&&o(l[v],"sham",!0)}},647:(e,t,r)=>{var n=r(1702),a=r(7908),i=Math.floor,s=n("".charAt),c=n("".replace),o=n("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,p,v){var d=r+e.length,g=n.length,f=l;return void 0!==p&&(p=a(p),f=u),c(v,f,(function(a,c){var u;switch(s(c,0)){case"$":return"$";case"&":return e;case"`":return o(t,0,r);case"'":return o(t,d);case"<":u=p[o(c,1,-1)];break;default:var l=+c;if(0===l)return a;if(l>g){var v=i(l/10);return 0===v?a:v<=g?void 0===n[v-1]?s(c,1):n[v-1]+s(c,1):a}u=n[l-1]}return void 0===u?"":u}))}},7651:(e,t,r)=>{var n=r(6916),a=r(9670),i=r(614),s=r(4326),c=r(2261),o=TypeError;e.exports=function(e,t){var r=e.exec;if(i(r)){var u=n(r,e,t);return null!==u&&a(u),u}if("RegExp"===s(e))return n(c,e,t);throw o("RegExp#exec called on incompatible receiver")}},5306:(e,t,r)=>{"use strict";var n=r(2104),a=r(6916),i=r(1702),s=r(7007),c=r(7293),o=r(9670),u=r(614),l=r(8554),p=r(9303),v=r(7466),d=r(1340),g=r(4488),f=r(1530),h=r(8173),m=r(647),k=r(7651),_=r(5112),x=_("replace"),b=Math.max,w=Math.min,I=i([].concat),y=i([].push),$=i("".indexOf),C=i("".slice),F=function(e){return void 0===e?e:String(e)},Z=function(){return"$0"==="a".replace(/./,"$0")}(),L=function(){return!!/./[x]&&""===/./[x]("a","$0")}(),S=!c((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));s("replace",(function(e,t,r){var i=L?"$":"$0";return[function(e,r){var n=g(this),i=l(e)?void 0:h(e,x);return i?a(i,e,n,r):a(t,d(n),e,r)},function(e,a){var s=o(this),c=d(e);if("string"==typeof a&&-1===$(a,i)&&-1===$(a,"$<")){var l=r(t,s,c,a);if(l.done)return l.value}var g=u(a);g||(a=d(a));var h=s.global;if(h){var _=s.unicode;s.lastIndex=0}var x=[];while(1){var Z=k(s,c);if(null===Z)break;if(y(x,Z),!h)break;var L=d(Z[0]);""===L&&(s.lastIndex=f(c,v(s.lastIndex),_))}for(var S="",R=0,D=0;D<x.length;D++){Z=x[D];for(var E=d(Z[0]),M=b(w(p(Z.index),c.length),0),z=[],A=1;A<Z.length;A++)y(z,F(Z[A]));var P=Z.groups;if(g){var T=I([E],z,M,c);void 0!==P&&y(T,P);var W=d(n(a,void 0,T))}else W=m(E,c,M,z,P,a);M>=R&&(S+=C(c,R,M)+W,R=M+E.length)}return S+C(c,R)}]}),!S||!Z||L)}}]);
//# sourceMappingURL=65.54b0f088.js.map