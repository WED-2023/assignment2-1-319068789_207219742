(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[931],{4931:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});r(2772),r(1249),r(7327),r(1539);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"search-container"},[t("div",{staticClass:"search-bar"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],attrs:{type:"text",placeholder:"Search for recipes..."},domProps:{value:e.query},on:{focus:function(t){e.showDropdown=!0},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchRecipes.apply(null,arguments)},input:function(t){t.target.composing||(e.query=t.target.value)}}}),t("div",{staticClass:"amount-container"},[t("label",{staticClass:"amount-label",attrs:{for:"amount"}},[e._v("Number of results:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"amount"}],staticClass:"amount-input",attrs:{id:"amount"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.amount=t.target.multiple?r:r[0]}}},[t("option",{attrs:{value:"5"}},[e._v("5")]),t("option",{attrs:{value:"10"}},[e._v("10")]),t("option",{attrs:{value:"15"}},[e._v("15")])])]),t("div",{staticClass:"filter-dropdown"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedCuisines,expression:"selectedCuisines"}],attrs:{multiple:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedCuisines=t.target.multiple?r:r[0]}}},[t("option",{attrs:{value:"Mexican"}},[e._v("Mexican")]),t("option",{attrs:{value:"Italian"}},[e._v("Italian")]),t("option",{attrs:{value:"Chinese"}},[e._v("Chinese")]),t("option",{attrs:{value:"Indian"}},[e._v("Indian")]),t("option",{attrs:{value:"Greek"}},[e._v("Greek")]),t("option",{attrs:{value:"Latine"}},[e._v("Latine")])]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedDiets,expression:"selectedDiets"}],attrs:{multiple:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedDiets=t.target.multiple?r:r[0]}}},[t("option",{attrs:{value:"Ketogenic"}},[e._v("Ketogenic")]),t("option",{attrs:{value:"Vegetarian"}},[e._v("Vegetarian")])]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedIntolerances,expression:"selectedIntolerances"}],attrs:{multiple:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedIntolerances=t.target.multiple?r:r[0]}}},[t("option",{attrs:{value:"Dairy"}},[e._v("Dairy")]),t("option",{attrs:{value:"Egg"}},[e._v("Egg")])])]),t("button",{on:{click:e.searchRecipes}},[e._v("Search")]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showDropdown,expression:"showDropdown"}],staticClass:"dropdown",on:{mouseleave:function(t){e.showDropdown=!1}}},[t("ul",e._l(e.lastSearches,(function(r,n){return t("li",{key:n,on:{click:function(t){return e.selectSearch(r)}}},[e._v(" "+e._s(r)+" ")])})),0)])]),t("b-container",e._l(e.recipes,(function(e){return t("b-row",{key:e.id},[t("RecipePreview",{staticClass:"recipePreview",attrs:{recipe:e}})],1)})),1)],1)},a=[],s=r(6835),i=r(5957),o=r(8534),c=(r(3210),r(7658),r(541),r(8862),r(4964)),l=r(1458);const u={name:"RecipePreviewList",components:{RecipePreview:c.Z},data:function(){return{query:"",recipes:[],lastSearches:[],showDropdown:!1,amount:5,selectedCuisines:[],selectedDiets:[],selectedIntolerances:[]}},mounted:function(){this.loadLastSearches()},methods:{searchRecipes:function(){var e=this;return(0,o.Z)((0,s.Z)().mark((function t(){var r,n,a;return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.query.trim()){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,(0,l.J1)(e.query,e.amount,e.selectedCuisines,e.selectedDiets,e.selectedIntolerances);case 5:n=t.sent,console.log(n),a=n.data.recipes,console.log(a),e.recipes=[],(r=e.recipes).push.apply(r,(0,i.Z)(a)),e.saveSearch(e.query),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](2),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[2,14]])})))()},saveSearch:function(e){var t=JSON.parse(localStorage.getItem("lastSearches"))||[];t=t.filter((function(t){return t!==e})),t.unshift(e),t.length>5&&t.pop(),localStorage.setItem("lastSearches",JSON.stringify(t)),this.loadLastSearches()},loadLastSearches:function(){this.lastSearches=JSON.parse(localStorage.getItem("lastSearches"))||[]},selectSearch:function(e){this.query=e,this.showDropdown=!1,this.searchRecipes()}}},p=u;var v=r(1001),d=(0,v.Z)(p,n,a,!1,null,"3a2a6e68",null);const f=d.exports},5117:(e,t,r)=>{"use strict";var n=r(6330),a=TypeError;e.exports=function(e,t){if(!delete e[t])throw a("Cannot delete property "+n(t)+" of "+n(e))}},6091:(e,t,r)=>{var n=r(6530).PROPER,a=r(7293),s=r(1361),i="​᠎";e.exports=function(e){return a((function(){return!!s[e]()||i[e]()!==i||n&&s[e].name!==e}))}},3111:(e,t,r)=>{var n=r(1702),a=r(4488),s=r(1340),i=r(1361),o=n("".replace),c=RegExp("^["+i+"]+"),l=RegExp("(^|[^"+i+"])["+i+"]+$"),u=function(e){return function(t){var r=s(a(t));return 1&e&&(r=o(r,c,"")),2&e&&(r=o(r,l,"$1")),r}};e.exports={start:u(1),end:u(2),trim:u(3)}},1361:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},7327:(e,t,r)=>{"use strict";var n=r(2109),a=r(2092).filter,s=r(1194),i=s("filter");n({target:"Array",proto:!0,forced:!i},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},2772:(e,t,r)=>{"use strict";var n=r(2109),a=r(1470),s=r(1318).indexOf,i=r(9341),o=a([].indexOf),c=!!o&&1/o([1],1,-0)<0,l=c||!i("indexOf");n({target:"Array",proto:!0,forced:l},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return c?o(this,e,t)||0:s(this,e,t)}})},541:(e,t,r)=>{"use strict";var n=r(2109),a=r(7908),s=r(6244),i=r(3658),o=r(5117),c=r(7207),l=1!==[].unshift(0),u=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},p=l||!u();n({target:"Array",proto:!0,arity:1,forced:p},{unshift:function(e){var t=a(this),r=s(t),n=arguments.length;if(n){c(r+n);var l=r;while(l--){var u=l+n;l in t?t[u]=t[l]:o(t,u)}for(var p=0;p<n;p++)t[p]=arguments[p]}return i(t,r+n)}})},3210:(e,t,r)=>{"use strict";var n=r(2109),a=r(3111).trim,s=r(6091);n({target:"String",proto:!0,forced:s("trim")},{trim:function(){return a(this)}})}}]);
//# sourceMappingURL=931.ebba2cbd.js.map