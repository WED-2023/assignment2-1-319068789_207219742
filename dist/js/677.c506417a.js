(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[677],{6468:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});t(8309);var a=function(){var e=this,r=e._self._c;return r("div",{staticClass:"container"},[e.recipe?r("div",[r("div",{staticClass:"recipe-header"},[r("h1",[e._v(e._s(e.recipe.title))]),e.$root.store.username?r("div",{staticClass:"button-group"},[r("button",{staticClass:"like-button",class:{liked:e.isLiked},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),e.toggleLike.apply(null,arguments)}}},[r("i",{class:[e.isLiked?"fas fa-heart":"far fa-heart"]})]),r("button",{staticClass:"favorite-button",class:{favorited:e.isFavorited},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),e.toggleFavorite.apply(null,arguments)}}},[r("i",{class:[e.isFavorited?"fas fa-star":"far fa-star"]})])]):e._e(),r("img",{staticClass:"center",attrs:{src:e.recipe.image}}),r("ul",{staticClass:"recipe-overview"},[r("li",[r("span",[r("i",{staticClass:"fas fa-clock"}),e._v(" "+e._s(e.recipe.readyInMinutes)+" minutes ")])]),r("li",[r("span",[r("i",{staticClass:"fas fa-user"}),e._v(" "+e._s(e.recipe.servings)+" servings ")])]),r("li",[e._v(" "+e._s(e.recipe.aggregateLikes)+" "),r("i",{staticClass:"fas fa-heart",staticStyle:{color:"red"}})]),r("li",[e.recipe.vegan?r("img",{staticClass:"icon",attrs:{src:e.vegan_img}}):e._e()]),r("li",[e.recipe.vegetarian?r("img",{staticClass:"icon",attrs:{src:e.vegetarian_img}}):e._e()]),r("li",[e.recipe.glutenFree?r("img",{staticClass:"icon",attrs:{src:e.gluten_free_img}}):e._e()])])]),r("div",{staticClass:"recipe-body"},[r("div",{staticClass:"wrapper"},[r("div",{staticClass:"wrapped"},[r("h4",[e._v("Summary:")]),r("p",{domProps:{innerHTML:e._s(e.recipe.summary)}}),r("h4",[e._v("Ingredients:")]),r("ul",e._l(e.recipe.extendedIngredients,(function(t,a){return r("li",{key:a+"_"+t.id},[e._v(" "+e._s(t.amount)+" "+e._s(t.unit)+" "+e._s(t.name)+" ")])})),0),r("h4",[e._v("Instructions:")]),r("p",{domProps:{innerHTML:e._s(e.recipe.instructions)}})]),r("div",{staticClass:"wrapped"})])])]):e._e()])},n=[],i=t(6835),s=t(8534),c=(t(4916),t(5306),t(2222),t(4293)),o=t(3099);const u={data:function(){return{recipe:null,vegan_img:"https://github.com/WED-2023/assignment2-1-319068789_207219742/blob/main/src/assets/vegen%20friendly.png?raw=true",gluten_free_img:"https://cdn-icons-png.flaticon.com/256/4876/4876700.png",vegetarian_img:"https://github.com/WED-2023/assignment2-1-319068789_207219742/blob/main/src/assets/vegetarian-icon.png?raw=true",isFavorited:!1,isLiked:!1}},mounted:function(){this.created(),this.checkIfFavoriteRecipe(),this.checkIfLiked(),this.handleWatched()},methods:{created:function(){var e=this;return(0,s.Z)((0,i.Z)().mark((function r(){var t,a,n,s,o,u,l,p,v,d,g,f,h,m;return(0,i.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,c.JX)(e.$route.params.recipeId);case 3:t=r.sent,null===t&&e.$router.replace("/NotFound"),a=t.data,n=a.instructions,s=a.aggregateLikes,o=a.extendedIngredients,u=a.readyInMinutes,l=a.image,p=a.title,v=a.vegetarian,d=a.vegan,g=a.glutenFree,f=a.servings,h=a.summary,m={instructions:n,extendedIngredients:o,aggregateLikes:s,readyInMinutes:u,image:l,title:p,vegetarian:v,vegan:d,glutenFree:g,servings:f,summary:h},e.recipe=m,r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](0),console.log(r.t0);case 13:case"end":return r.stop()}}),r,null,[[0,10]])})))()},checkIfFavoriteRecipe:function(){var e=this;return(0,s.Z)((0,i.Z)().mark((function r(){var t;return(0,i.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,o.B0)(localStorage.username,e.$route.params.recipeId);case 3:t=r.sent,console.log("Favorite check response:",t.data),e.isFavorited=t.data.isFavorite,r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),console.log(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()},checkIfLiked:function(){var e=this;return(0,s.Z)((0,i.Z)().mark((function r(){var t;return(0,i.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,o.M1)(localStorage.username,e.$route.params.recipeId);case 3:t=r.sent,console.log("Like check response:",t.data),e.isLiked=t.data.isLiked,r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),console.log(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()},toggleFavorite:function(){var e=this;return(0,s.Z)((0,i.Z)().mark((function r(){var t;return(0,i.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!localStorage.username){r.next=13;break}if(e.isFavorited=!e.isFavorited,t={username:localStorage.username,recipe_id:e.$route.params.recipeId},console.log("Toggling favorite status: Username: ".concat(t.username,", Recipe ID: ").concat(t.recipe_id)),!e.isFavorited){r.next=9;break}return r.next=7,(0,o._p)(t);case 7:r.next=11;break;case 9:return r.next=11,(0,o.zm)(t);case 11:r.next=14;break;case 13:console.error("localStorage.username is not defined.");case 14:case"end":return r.stop()}}),r)})))()},toggleLike:function(){var e=this;return(0,s.Z)((0,i.Z)().mark((function r(){var t;return(0,i.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!localStorage.username){r.next=13;break}if(e.isLiked=!e.isLiked,t={username:localStorage.username,recipe_id:e.$route.params.recipeId},console.log("Toggling like status: Username: ".concat(t.username,", Recipe ID: ").concat(t.recipe_id)),!e.isLiked){r.next=9;break}return r.next=7,(0,o.$m)(t);case 7:r.next=11;break;case 9:return r.next=11,(0,o.Qw)(t);case 11:r.next=14;break;case 13:console.error("localStorage.username is not defined.");case 14:case"end":return r.stop()}}),r)})))()},handleWatched:function(){var e=this;return(0,s.Z)((0,i.Z)().mark((function r(){var t;return(0,i.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(console.error("handle watch"),!localStorage.username){r.next=5;break}return t={username:localStorage.username,recipe_id:e.$route.params.recipeId},r.next=5,(0,o.FF)(t);case 5:case"end":return r.stop()}}),r)})))()}}},l=u;var p=t(1001),v=(0,p.Z)(l,a,n,!1,null,"2100b6e5",null);const d=v.exports},1530:(e,r,t)=>{"use strict";var a=t(8710).charAt;e.exports=function(e,r,t){return r+(t?a(e,r).length:1)}},7007:(e,r,t)=>{"use strict";t(4916);var a=t(1470),n=t(8052),i=t(2261),s=t(7293),c=t(5112),o=t(8880),u=c("species"),l=RegExp.prototype;e.exports=function(e,r,t,p){var v=c(e),d=!s((function(){var r={};return r[v]=function(){return 7},7!=""[e](r)})),g=d&&!s((function(){var r=!1,t=/a/;return"split"===e&&(t={},t.constructor={},t.constructor[u]=function(){return t},t.flags="",t[v]=/./[v]),t.exec=function(){return r=!0,null},t[v](""),!r}));if(!d||!g||t){var f=a(/./[v]),h=r(v,""[e],(function(e,r,t,n,s){var c=a(e),o=r.exec;return o===i||o===l.exec?d&&!s?{done:!0,value:f(r,t,n)}:{done:!0,value:c(t,r,n)}:{done:!1}}));n(String.prototype,e,h[0]),n(l,v,h[1])}p&&o(l[v],"sham",!0)}},647:(e,r,t)=>{var a=t(1702),n=t(7908),i=Math.floor,s=a("".charAt),c=a("".replace),o=a("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,r,t,a,p,v){var d=t+e.length,g=a.length,f=l;return void 0!==p&&(p=n(p),f=u),c(v,f,(function(n,c){var u;switch(s(c,0)){case"$":return"$";case"&":return e;case"`":return o(r,0,t);case"'":return o(r,d);case"<":u=p[o(c,1,-1)];break;default:var l=+c;if(0===l)return n;if(l>g){var v=i(l/10);return 0===v?n:v<=g?void 0===a[v-1]?s(c,1):a[v-1]+s(c,1):n}u=a[l-1]}return void 0===u?"":u}))}},7651:(e,r,t)=>{var a=t(6916),n=t(9670),i=t(614),s=t(4326),c=t(2261),o=TypeError;e.exports=function(e,r){var t=e.exec;if(i(t)){var u=a(t,e,r);return null!==u&&n(u),u}if("RegExp"===s(e))return a(c,e,r);throw o("RegExp#exec called on incompatible receiver")}},5306:(e,r,t)=>{"use strict";var a=t(2104),n=t(6916),i=t(1702),s=t(7007),c=t(7293),o=t(9670),u=t(614),l=t(8554),p=t(9303),v=t(7466),d=t(1340),g=t(4488),f=t(1530),h=t(8173),m=t(647),k=t(7651),x=t(5112),_=x("replace"),b=Math.max,w=Math.min,I=i([].concat),$=i([].push),C=i("".indexOf),F=i("".slice),Z=function(e){return void 0===e?e:String(e)},L=function(){return"$0"==="a".replace(/./,"$0")}(),y=function(){return!!/./[_]&&""===/./[_]("a","$0")}(),S=!c((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));s("replace",(function(e,r,t){var i=y?"$":"$0";return[function(e,t){var a=g(this),i=l(e)?void 0:h(e,_);return i?n(i,e,a,t):n(r,d(a),e,t)},function(e,n){var s=o(this),c=d(e);if("string"==typeof n&&-1===C(n,i)&&-1===C(n,"$<")){var l=t(r,s,c,n);if(l.done)return l.value}var g=u(n);g||(n=d(n));var h=s.global;if(h){var x=s.unicode;s.lastIndex=0}var _=[];while(1){var L=k(s,c);if(null===L)break;if($(_,L),!h)break;var y=d(L[0]);""===y&&(s.lastIndex=f(c,v(s.lastIndex),x))}for(var S="",M=0,R=0;R<_.length;R++){L=_[R];for(var D=d(L[0]),E=b(w(p(L.index),c.length),0),T=[],P=1;P<L.length;P++)$(T,Z(L[P]));var W=L.groups;if(g){var A=I([D],T,E,c);void 0!==W&&$(A,W);var H=d(a(n,void 0,A))}else H=m(D,c,E,T,W,n);E>=M&&(S+=F(c,M,E)+H,M=E+D.length)}return S+F(c,M)}]}),!S||!L||y)}}]);
//# sourceMappingURL=677.c506417a.js.map